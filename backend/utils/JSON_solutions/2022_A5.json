{
  "year": "2022",
  "question_number": "5",
  "domain": "Putnam",
  "statement": "",
  "solution": [
    {
      "hint_level": 0,
      "content": "We show that the number in question equals 290. More generally,\nlet $a(n)$ (resp.\\ $b(n)$) be the optimal final score for Alice (resp.\\ Bob) moving first in a position with $n$ consecutive squares. We show that\n\\begin{align*}\na(n) &= \\left\\lfloor \\frac{n}{7} \\right\\rfloor + a\\left(n - 7\\left\\lfloor \\frac{n}{7} \\right\\rfloor \\right), \\\\\nb(n) &= \\left\\lfloor \\frac{n}{7} \\right\\rfloor + b\\left(n - 7\\left\\lfloor \\frac{n}{7} \\right\\rfloor \\right),\n\\end{align*}\nand that the values for $n \\leq 6$ are as follows:\n\\[\n\\begin{array}{c|cccccccccc}\nn & 0 & 1 & 2 & 3 & 4 & 5 & 6 \\\\\n\\hline\na(n) & 0 & 1 & 0 & 1 & 2 & 1 & 2  \\\\\nb(n) & 0 & 1 & 0 & 1 & 0 & 1 & 0 \n\\end{array}\n\\]\nSince $2022 \\equiv 6 \\pmod{7}$, this will yield\n$a(2022) = 2 + \\lfloor \\frac{2022}{7} \\rfloor = 290$.\n\nWe proceed by induction, starting with the base cases $n \\leq 6$.\nSince the number of odd intervals never decreases, we have $a(n), b(n) \\geq n - 2 \\lfloor \\frac{n}{2} \\rfloor$; by looking at the possible final positions, we see that equality holds for $n=0,1,2,3,5$. For $n=4,6$, Alice moving first can split the original interval into two odd intervals, guaranteeing at least two odd intervals in the final position; whereas Bob can move to leave behind one or two intervals of length 2, guaranteeing no odd intervals in the final position.\n\nWe now proceed to the induction step. Suppose that $n \\geq 7$\nand the claim is known for all $m < n$. In particular, this means that $a(m) \\geq b(m)$; consequently, it does not change the analysis to allow a player to pass their turn after the first move, as both players will still have an optimal strategy which involves never passing.\n\nIt will suffice to check that\n\\[\na(n) = a(n-7) + 1, \\qquad b(n) = b(n-7) + 1.\n\\]\nMoving first, Alice can leave behind two intervals of length 1 and $n-3$. This shows that\n\\[\na(n) \\geq 1 + b(n-3) = a(n-7) + 1.\n\\]\nOn the other hand, if Alice leaves behind intervals of length $i$ and $n-2-i$, Bob can choose to play in either one of these intervals and then follow Alice's lead thereafter (exercising the pass option if Alice makes the last legal move in one of the intervals). \nThis shows that\n\\begin{align*}\na(n) &\\leq \\max\\{\\min\\{a(i) + b(n-2-i), \\\\\n& \\qquad b(i)+a(n-2-i)\\}: i =0,1,\\dots,n-2\\} \\\\\n&= a(n-7)+1.\n\\end{align*}\n\nMoving first, Bob can leave behind two intervals of lengths 2 and $n-4$. This shows that\n\\[\nb(n) \\leq a(n-4) = b(n-7) + 1.\n\\]\nOn the other hand, if Bob leaves behind intervals of length $i$ and $n-2-i$, Alice can choose to play in either one of these intervals and then follow Bob's lead thereafter (again passing as needed). This shows that\n\\begin{align*}\nb(n) &\\geq \\min\\{\\max\\{a(i) + b(n-2-i), \\\\\n& \\qquad b(i)+a(n-2-i)\\}: i =0,1,\\dots,n-2\\} \\\\\n&= b(n-7)+1.\n\\end{align*}\nThis completes the induction."
    }
  ]
}