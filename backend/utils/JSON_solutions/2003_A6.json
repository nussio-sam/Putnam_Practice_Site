{
  "year": "2003",
  "question_number": "6",
  "domain": "Putnam",
  "statement": "",
  "solution": [
    {
      "hint_level": 0,
      "content": "\\textbf{First solution:} Yes, such a partition is possible. To achieve it,\nplace each integer into $A$ if it has an even number of 1s in its binary\nrepresentation, and into $B$ if it has an odd number. (One discovers this\nby simply attempting to place the first few numbers by hand and noticing\nthe resulting pattern.)\n\nTo show that $r_A(n) = r_B(n)$, we exhibit a bijection between the pairs\n$(a_1, a_2)$ of distinct elements of $A$ with $a_1 + a_2 = n$ and the\npairs $(b_1, b_2)$ of distinct elements of $B$ with $b_1 + b_2 = n$.\nNamely, given a pair $(a_1, a_2)$ with $a_1+a_2 = n$, write both numbers\nin binary and find the lowest-order place in which they differ (such a\nplace exists because $a_1 \\neq a_2$). Change both numbers in that place\nand call the resulting numbers $b_1, b_2$. Then $a_1 + a_2 = b_1 + b_2 =\nn$, but the parity of the number of 1s in $b_1$ is opposite that of $a_1$,\nand likewise between $b_2$ and $a_2$. This yields the desired bijection.\n\n\\textbf{Second solution:} (by Micah Smukler)\nWrite $b(n)$ for the number of 1s in the base 2 expansion of $n$,\nand $f(n) = (-1)^{b(n)}$.\nThen\nthe desired partition can be described as $A = f^{-1}(1)$ and $B = f^{-1}(-1)$.\nSince $f(2n) + f(2n+1) = 0$, we have\n\\[\n\\sum_{i=0}^n f(n) = \\begin{cases} 0 & \\mbox{$n$ odd} \\\\\nf(n) & \\mbox{$n$ even.} \\end{cases}\n\\]\nIf $p,q$ are both in $A$, then $f(p) + f(q) = 2$;\nif $p,q$ are both in $B$, then $f(p) + f(q) = -2$; if $p,q$ are\nin different sets, then $f(p) + f(q) = 0$. In other words,\n\\[\n2(r_A(n) - r_B(n)) = \\sum_{p+q=n,p < q} (f(p) + f(q))\n\\]\nand it suffices to show that the sum on the right is always zero.\nIf $n$ is odd, that sum is visibly $\\sum_{i=0}^n f(i) = 0$.\nIf $n$ is even, the sum equals\n\\[\n\\left(\\sum_{i=0}^n f(i) \\right) - f(n/2) = f(n) - f(n/2) = 0.\n\\]\nThis yields the desired result.\n\n\\textbf{Third solution:} (by Dan Bernstein)\nPut $f(x) = \\sum_{n \\in A} x^n$ and $g(x) = \\sum_{n \\in B} x^n$; then\nthe value of $r_A(n)$ (resp.\\ $r_B(n)$) is the coefficient of $x^n$\nin $f(x)^2 - f(x^2)$ (resp.\\ $g(x)^2 - g(x^2)$). From the evident identities\n\\begin{align*}\n\\frac{1}{1-x} &= f(x) + g(x) \\\\\nf(x) &= f(x^2) + xg(x^2) \\\\\ng(x) &= g(x^2) + xf(x^2),\n\\end{align*}\nwe have\n\\begin{align*}\nf(x) - g(x) &= f(x^2) - g(x^2) + xg(x^2) - xf(x^2) \\\\\n&= (1-x)(f(x^2) - g(x^2)) \\\\\n&= \\frac{f(x^2) - g(x^2)}{f(x) + g(x)}.\n\\end{align*}\nWe deduce that $f(x)^2 - g(x)^2 = f(x^2) - g(x^2)$, yielding the desired\nequality.\n\n\\textbf{Note:}\nThis partition is actually unique, up to interchanging $A$ and $B$.\nMore precisely, the condition that $0 \\in A$ and $r_A(n) = r_B(n)$ for\n$n=1, \\dots, m$ uniquely determines the positions of $0, \\dots, m$. We\nsee this by induction on $m$: given the result for $m-1$, switching the\nlocation of $m$ changes $r_A(m)$ by one and does not change $r_B(m)$, so\nit is not possible for both positions to work.  Robin Chapman points out\nthis problem is solved in D.J. Newman's \\textit{Analytic Number Theory}\n(Springer, 1998); in that solution, one uses generating functions to find\nthe partition and establish its uniqueness, not just verify it."
    }
  ]
}