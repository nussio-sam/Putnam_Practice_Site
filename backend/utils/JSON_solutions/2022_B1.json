{
  "year": "2022",
  "question_number": "1",
  "domain": "Putnam",
  "statement": "",
  "solution": [
    {
      "hint_level": 0,
      "content": "We prove that $b_k k!$ is an odd integer for all $k \\geq 0$.\n\n\\textbf{First solution.}\nSince $e^{P(x)} = \\sum_{n=0}^\\infty \\frac{(P(x))^n}{n!}$, the number $k!\\,b_k$ is the coefficient of $x^k$ in\n\\[\n(P(x))^k + \\sum_{n=0}^{k-1} \\frac{k!}{n!}(P(x))^n.\n\\]\nIn particular, $b_0=1$ and $b_1=a_1$ are both odd. \n\nNow suppose $k \\geq 2$; we want to show that $b_k$ is odd. The coefficient of $x^k$ in $(P(x))^k$ is $a_1^k$. It suffices to show that the coefficient of $x^k$ in $\\frac{k!}{n!}(P(x))^n$ is an even integer for any $n<k$. For $k$ even or $n \\leq k-2$, this follows immediately from the fact that $\\frac{k!}{n!}$ is an even integer. For $k$ odd and $n=k-1$, we have\n\\begin{align*}\n\\frac{k!}{(k-1)!}(P(x))^{k-1} &= k(a_1x+a_2x^2+\\cdots)^{k-1} \\\\\n&= k(a_1^{k-1}x^{k-1}+(k-1)a_1^{k-2}a_2x^k+\\cdots)\n\\end{align*}\nand the coefficient of $x^k$ is $k(k-1)a_1^{k-2}a_2$, which is again an even integer.\n\n\\noindent\n\\textbf{Second solution.}\nLet $G$ be the set of power series of the form $\\sum_{n=0}^\\infty c_n \\frac{x_n}{n!}$ with $c_0 = 1, c_n \\in \\mathbb{Z}$; then $G$ forms a group under formal series multiplication because\n\\[\n\\left( \\sum_{n=0}^\\infty c_n \\frac{x^n}{n!} \\right)\n\\left( \\sum_{n=0}^\\infty d_n \\frac{x^n}{n!} \\right)\n= \\sum_{n=0}^\\infty e_n \\frac{x^n}{n!} \n\\]\nwith\n\\[\ne_n = \\sum_{m=0}^n \\binom{n}{m} c_m d_{n-m}.\n\\]\nBy the same calculation, the subset $H$ of series with $c_n \\in 2\\mathbb{Z}$ for all $n \\geq 1$ is a subgroup of $G$.\n\nWe have $e^{2x} \\in H$ because $\\frac{2^n}{n!} \\in 2\\mathbb{Z}$ for all $n \\geq 1$: the exponent of 2 in the prime factorization of $n!$ is\n\\[\n\\sum_{i=1}^\\infty \\left\\lfloor \\frac{n}{2^i} \\right\\rfloor\n< \\sum_{i=1}^\\infty \\frac{n}{2^i} = n.\n\\]\nFor any integer $k \\geq 2$, we have $e^{x^k} \\in H$ because $\\frac{(nk)!}{n!} \\in 2\\mathbb{Z}$ for all $n \\geq 1$: this is clear if $k=2,n=1$, and in all other cases the ratio is divisible by $(n+1)(n+2)$. \n\nWe deduce that $e^{P(x)-x} \\in H$.\nBy writing $e^{P(x)}$ as $e^x = \\sum_{n=0}^\\infty \\frac{x^n}{n!}$\ntimes an element of $H$, we deduce that $k! b_k$ is odd for all $k \\geq 0$.\n\n\\noindent\n\\textbf{Third solution.}\n(by David Feldman)\nWe interpret $e^{P(x)}$ using the exponential formula for generating functions.\nFor each $j$, choose a set $S_j$ consisting of $|a_j|$ colors.\nThen $b_k$ is a weighted count over set partitions of $\\{1,\\dots,k\\}$, with each part of size $j$ assigned a color in $S_j$, and the weight being $(-1)^i$ where $i$ is the number of parts of any size $j$ for which $a_j < 0$.\n\nSince we are only looking for the parity of $b_k$, we may dispense with the signs; that is, we may assume $a_j \\geq 0$ for all $j$\nand forget about the weights.\n\nChoose an involution on each $S_j$ with at most one fixed point; this induces an involution on the partitions, so to find the parity of $b_k$ we may instead count fixed points of the involution. That is, we may assume that $a_j \\in \\{0,1\\}$.\n\nLet $T_k$ be the set of set partitions in question with the all-singletons partition removed; it now suffices to exhibit a fixed-point-free involution of $T_k$. To wit, for each partition in $T_k$, there is a smallest index $i \\in \\{1,\\dots,k-1\\}$ for which $i$ and $i+1$ are not both singletons; we define an involution by swapping the positions of $i$ and $i+1$."
    }
  ]
}