{
  "year": "2014",
  "question_number": "3",
  "domain": "Putnam",
  "statement": "",
  "solution": [
    {
      "hint_level": 0,
      "content": "\\textbf{First solution:}\nAssume by way of contradiction that $A$ has rank at most 1;\nin this case, we can find rational numbers $a_1,\\dots,a_m$, $b_1,\\dots,b_n$ such that\n$A_{ij} = a_i b_j$ for all $i,j$. By deleting rows or columns, we may reduce to the case where the $a_i$'s and $b_j$'s are all nonzero.\n\nRecall that any nonzero rational number $q$ has a unique prime factorization\n\\[\nq = \\pm 2^{c_1} 3^{c_2} 5^{c_3} \\cdots\n\\]\nwith exponents in $\\ZZ$. Set\n\\[\nc(q) = (c_1, c_2, c_3, \\dots).\n\\]\nNote that $|a_i b_j|$ is prime if and only if $c(a_i) + c(b_j)$ has one entry equal to 1 and all others equal to 0. The condition that $m+n$ distinct primes appear in the matrix implies that the vector space \n\\[\n\\left\\{ \\sum_i x_i c(a_i) + \\sum_j y_i c(b_j) : x_i, y_j \\in \\RR, \\sum_i x_i = \\sum_j y_j \\right\\} \n\\]\ncontains a linearly independent set of size $m+n$. But that space evidently has dimension at most $m+n-1$, contradiction.\n\n\\textbf{Second solution:}\nIn this solution, we use standard terminology of graph theory, considering only simple undirected graphs (with no self-loops or multiple edges).\nWe first recall the quick induction proof that that a graph on $k$ vertices\n with no cycles contains at most $k-1$ edges: for $k=1$, the claim is trivially true because there can be no edges.\nFor $k>1$, choose any vertex $v$ and let $d$ be its degree. Removing the vertex $v$ and the edges incident to it leaves a disjoint union of $d$ different graphs, each having no cycles. If the numbers of vertices in these graphs are $k_1,\\dots,k_d$, by induction the total number of edges in the original graph is at most $(k_1 - 1) + \\cdots + (k_d - 1) + d = k - 1$.\n\nReturning to the original problem, suppose that $A$ has rank at most 1.\nDraw a bipartite graph whose vertices correspond to the rows and columns of $A$, with an edge joining a particular row and column if the entry where they intersect has prime absolute value. By the previous paragraph, this graph must contain a cycle. Since the graph is bipartite, this cycle must be of length $2k$ for some integer $k \\geq 2$ (we cannot have $k=1$ because the graph has no repeated edges). Without loss of generality, we may assume that the cycle consists of row 1, column 1, row 2, column 2, and so on. There must then exist distinct prime numbers $p_1, \\dots, p_{2k}$ such that\n\\[\n\\left| A_{11} \\right| = p_1, \\left| A_{21} \\right| = p_2, \\dots,\n\\left| A_{kk} \\right| = p_{2k-1}, \\left| A_{1k} \\right| = p_{2k}.\n\\]\nHowever, since $A$ has rank 1, the $2 \\times 2$ minor $A_{11} A_{ij} - A_{i1} A_{1j}$ must vanish for all $i,j$. If we put $r_i = \\left|A_{i1} \\right|$ and $c_j = \\left| A_{ij}/A_{11} \\right|$, we have\n\\begin{align*}\np_1 \\cdots p_{2k} &= (r_1 c_1)(r_2 c_1) \\cdots (r_k c_k) (r_1 c_k) \\\\\n&= (r_1 c_1 \\cdots r_k c_k)^2,\n\\end{align*}\nwhich contradicts the existence of unique prime factorizations for positive rational numbers: the prime $p_1$ occurs with exponent 1 on the left, but with some even exponent on the right. This contradiction completes the proof."
    }
  ]
}