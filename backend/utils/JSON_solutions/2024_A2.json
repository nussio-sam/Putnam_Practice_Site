{
  "year": "2024",
  "question_number": "2",
  "domain": "Putnam",
  "statement": "",
  "solution": [
    {
      "hint_level": 0,
      "content": "The answer is $p(x) = \\pm x+c$ for any $c \\in \\mathbb{R}$. Note that any such polynomial works: if $p(x)=x+c$ then $p(x)-x=c$, while if $p(x)=-x+c$ then $p(p(x))-x=0$.\nWe will show that in fact these are the only polynomials $p(x)$ such that $p(p(x))-x$ is divisible by $r(x)^2$, where $r(x)=p(x)-x$. \n\n\\noindent\n\\textbf{First solution.}\nSuppose that $p(p(x))-x$ is divisible by $r(x)^2$. Then\n\\begin{align*}\nx &\\equiv p(p(x)) \\\\\n&= p(x + r(x)) \\\\\n&\\equiv p(x) + p'(x) r(x) \\pmod{r(x)^2}.\n\\end{align*}\nIn other words, $r(x) (1 + p'(x))$ is divisible by $r(x)^2$.\nFrom this, it follows that either $r(x) = 0$ or $1+p'(x)$ is divisible by $r(x)$.\nIn the first case, we have $p(x) = x$.\nIn the second case, if $1 + p'(x) = 0$ then $p(x) = -x + c$ for some constant $c$;\notherwise, we have\n\\[\n\\deg(p) - 1 = \\deg(1 + p'(x)) \\geq \\deg(r)\n\\]\nand this is only possible if $p(x) = x + c$ for some constant $c$.\n\n\\noindent\n\\textbf{Second solution.}\nSuppose that $p(p(x))-x$ is divisible by $r(x)^2$. Then\n\\begin{align*}\n0 &\\equiv \\frac{d}{dx}(p(p(x)) - x) \\\\\n&= p'(x) p'(p(x)) - 1 \\\\\n&\\equiv p'(x)^2 -1 \\\\\n&= (p'(x) + 1)(p'(x) - 1) \\\\\n&= r'(x) (r'(x) + 2) \n\\pmod{r(x)}.\n\\end{align*}\nIf $\\alpha$ is a root of $r(x)$ of some multiplicity $m$, then the multiplicity of $\\alpha$ as a root of $r'(x)$ is $m-1$. Consequently, every root of $r(x)$ must be a root of $r'(x)+ 2$;\nin particular such a root cannot also be a root of $r'(x)$, so every root of $r(x)$ is simple.\nPutting this together, we deduce that $r(x)$ divides $r'(x) + 2$. If $r(x)$ is constant,\nthen $p(x) = x+c$ for some $c$. Otherwise, $\\deg(r'(x) + 2) < \\deg(r(x))$ and so $r'(x) + 2$ must be zero; then $r(x) = -2x + c$ for some $c$, whence $p(x) = -x + c$."
    }
  ]
}