{
  "year": "2012",
  "question_number": "4",
  "domain": "Putnam",
  "statement": "",
  "solution": [
    {
      "hint_level": 0,
      "content": "We begin with an easy lemma.\n\\setcounter{lemma}{0}\n\\begin{lemma*}\nLet $S$ be a finite set of integers with the following property: for all $a,b,c \\in S$ with\n$a \\leq b \\leq c$, we also have $a+c-b \\in S$. Then $S$ is an arithmetic progression.\n\\end{lemma*}\n\\begin{proof}\nWe may assume $\\# S \\geq 3$, as otherwise $S$ is trivially an arithmetic progression.\nLet $a_1, a_2$ be the smallest and second-smallest elements of $S$, respectively, and put\n$d = a_2 - a_1$. Let $m$ be the smallest positive integer such that $a_1 + md \\notin S$.\nSuppose that there exists an integer $n$ contained in $S$ but not in\n$\\{a_1, a_1 + d, \\dots, a_1 + (m-1)d\\}$, and choose the least such $n$.\nBy the hypothesis applied with $(a,b,c) = (a_1, a_2, n)$, we see that $n-d$ also has the property,\na contradiction.\n\\end{proof}\n\nWe now return to the original problem.\nBy dividing $B, q, r$ by $\\gcd(q,r)$ if necessary, we may reduce to the case where $\\gcd(q,r) = 1$.\nWe may assume $\\#S \\geq 3$, as otherwise $S$ is trivially an arithmetic progression.\nLet $a_1, a_2, a_3$ be any three distinct elements of $S$, labeled so that $a_1 < a_2 < a_3$,\nand write $ra_i = b_i + m_i q$ with $b_i, m_i \\in \\ZZ$ and $b_i \\in B$. Note that $b_1, b_2, b_3$ must also be distinct, so the differences $b_2 - b_1, b_3 - b_1, b_3 - b_2$ are all nonzero; consequently, two of them have the same sign. If $b_i - b_j$ and $b_k - b_l$ have the same sign, then\nwe must have\n\\[\n(a_i - a_j)(b_k - b_l) =  (b_i - b_j)(a_k - a_l)\n\\]\nbecause both sides are of the same sign, of absolute value less than $q$,\nand congruent to each other modulo $q$. In other words, the points $(a_1, b_1), (a_2, b_2), (a_3, b_3)$\nin $\\RR^2$ are collinear.\nIt follows that $a_4 = a_1 + a_3 - a_2$ also belongs to $S$ (by taking $b_4 = b_1 + b_3 - b_2$),\nso $S$ satisfies the conditions of the lemma. It is therefore an\narithmetic progression.\n\n\\noindent\n\\textbf{Reinterpretations.}\nOne can also interpret this argument geometrically using cross products (suggested by Noam Elkies),\nor directly in terms of congruences (suggested by Karl Mahlburg).\n\n\\noindent\n\\textbf{Remark.} The problem phrasing is somewhat confusing: to say that ``$S$ is the intersection of\n[the interval] $A$ with an arithmetic progression'' is the same thing as saying that ``$S$ is the empty set or an arithmetic progression'' unless it is implied that arithmetic progressions are necessarily infinite.\nUnder that interpretation, however, the problem becomes false; for instance, for\n\\[\nq=5, r=1, A = [1,3], B = [0,2],\n\\]\nwe have\n\\[\nT = \\{\\cdots, 0,1,2,5,6,7,\\dots\\}, S = \\{1,2\\}.\n\\]"
    }
  ]
}