{
  "year": "2020",
  "question_number": "6",
  "domain": "Putnam",
  "statement": "",
  "solution": [
    {
      "hint_level": 0,
      "content": "The smallest constant $M$ is $\\pi/4$.\n\nWe start from the expression\n\\begin{equation} \\label{2020A6eq1}\nf_N(x) = \\sum_{n=0}^N \\frac{1}{2} \\left( \\frac{2}{2n+1} - \\frac{1}{N+1} \\right) \\sin((2n+1)x).\n\\end{equation}\nNote that if $\\sin(x) > 0$, then\n\\begin{align*}\n\\sum_{n=0}^N \\sin((2n+1)x) &= \\frac{1}{2i} \\sum_{n=0}^N (e^{i(2n+1)x} - e^{-i(2n+1)x}) \\\\\n&= \\frac{1}{2i} \\left( \\frac{e^{i(2N+3)x} - e^{ix}}{e^{2ix} - 1}  -\n\\frac{e^{-i(2N+3)x} - e^{-ix}}{e^{-2ix} - 1} \\right) \\\\\n&=\\frac{1}{2i} \\left( \\frac{e^{i(2N+2)x} - 1}{e^{ix} - e^{-ix}}  -\n\\frac{e^{-i(2N+2)x} - 1}{e^{-ix} - e^{ix}} \\right) \\\\\n&=\\frac{1}{2i} \\frac{e^{i(2N+2)x}+ e^{-i(2N+2)x} - 2}{e^{ix} - e^{-ix}} \\\\\n&= \\frac{2 \\cos ((2N+2)x) - 2}{2i(2i \\sin(x))} \\\\\n&= \\frac{1 - \\cos ((2N+2)x)}{2\\sin(x)} \\geq 0.\n\\end{align*}\nWe use this to compare the expressions of $f_N(x)$ and $f_{N+1}(x)$ given by \\eqref{2020A6eq1}.\nFor $x \\in (0, \\pi)$ with $\\sin((2N+3)x) \\geq 0$, we may omit the summand $n=N+1$ from $f_{N+1}(x)$ to obtain\n\\begin{align*}\n& f_{N+1}(x) - f_N(x) \\\\\n&\\geq \\frac{1}{2}  \\left( \\frac{1}{N+1} - \\frac{1}{N+2} \\right) \\sum_{n=0}^N \\sin((2n+1)x) \\geq 0.\n\\end{align*}\nFor $x \\in (0, \\pi)$ with $\\sin((2N+3)x) \\leq 0$, we may insert the summand $n=N+1$ into $f_{N+1}(x)$ to obtain\n\\begin{align*}\n&f_{N+1}(x) - f_N(x) \\\\\n&\\geq \\frac{1}{2}  \\left( \\frac{1}{N+1} - \\frac{1}{N+2} \\right) \\sum_{n=0}^{N+1} \\sin((2n+1)x) \\geq 0.\n\\end{align*}\nIn either case, we deduce that for $x \\in (0, \\pi)$, the sequence $\\{f_N(x)\\}_N$ is nondecreasing.\n\nNow rewrite \\eqref{2020A6eq1} as \n\\begin{equation} \\label{2020A6eq2}\nf_N(x) = \\sum_{n=0}^N \\frac{ \\sin((2n+1)x) }{2n+1}- \\frac{1-\\cos((2N+2)x)}{4(N+1) \\sin(x)}\n\\end{equation}\nand note that the last term tends to 0 as $N \\to \\infty$.\nConsequently, $\\lim_{N \\to \\infty} f_N(x)$ equals the sum of the series\n\\[\n\\sum_{n=0}^\\infty \\frac{1}{2n+1} \\sin((2n+1)x),\n\\]\nwhich is the Fourier series for the ``square wave'' function defined on $(-\\pi, \\pi]$ by\n\\[\nx \\mapsto \\begin{cases} -\\frac{\\pi}{4} & x \\in (-\\pi, 0) \\\\\n\\frac{\\pi}{4} & x \\in (0, \\pi) \\\\\n0 & x = 0, \\pi\n\\end{cases}\n\\]\nand extended periodically. Since this function is continuous on $(0, \\pi)$, we deduce that the Fourier series converges to the value of the function; that is,\n\\[\n\\lim_{N \\to \\infty} f_N(x) = \\frac{\\pi}{4} \\qquad (x \\in (0, \\pi)).\n\\]\nThis is enough to deduce the desired result as follows. \nSince\n\\[\nf_N(x+2\\pi) = f_N(x), \\qquad f_N(-x) = -f_N(x),\n\\]\nit suffices to check the bound $f_N(x) \\leq \\pi$ for $x \\in (-\\pi, \\pi]$.\nFor $x = 0, \\pi$ we have $f_N(x) = 0$ for all $N$.\nFor $x \\in (-\\pi, 0)$, the previous arguments imply that\n\\[\n0 \\geq f_0(x) \\geq f_1(x) \\geq \\cdots\n\\]\nFor $x \\in (0, \\pi)$, the previous arguments imply that\n\\[\n0 \\leq f_0(x) \\leq f_1(x) \\leq \\cdots \\leq \\frac{\\pi}{4}\n\\]\nand the limit is equal to $\\pi/4$. We conclude that $f_N(x) \\leq M$ holds for $M = \\pi/4$ but not for any smaller $M$, as desired.\n\n\\noindent\n\\textbf{Remark.}\nIt is also possible to replace the use of the convergence of the Fourier series with a more direct argument; it is sufficient to do this for $x$ in a dense subset of $(0, \\pi)$, such as the rational multiples of $\\pi$.\n\nAnother alternative (described at \\url{https://how-did-i-get-here.com/2020-putnam-a6/})\nis to deduce from \\eqref{2020A6eq2} and a second geometric series computation (omitted here) that\n\\begin{align*}\nf'_N(x) &= \\sum_{n=0}^N \\cos((2n+1)x) - \\frac{d}{dx} \\left( \\frac{1-\\cos((2N+2)x)}{4(N+1) \\sin(x)} \\right) \\\\\n&=\\frac{\\sin((2N+2)x)}{2\\sin(x)} \\\\\n&\\qquad - \\frac{(2N+2)\\sin((2N+2)x) - \\cos(x) (1-\\cos((N+2)x)}{4(N+1)\\sin(x)^2} \\\\\n&= \\frac{\\cos(x) (1-\\cos((N+2)x)}{4(N+1)\\sin(x)^2},\n\\end{align*}\nwhich is nonnegative for $x \\in (0, \\pi/2]$ and nonpositive for $x \\in [\\pi/2, \\pi)$.\nThis implies that $f_N(x)$ always has a global maximum at $x = \\pi/2$, so it suffices to check the\nconvergence of the Fourier series for the square wave at that point. This reduces to the Madhava--Gregory--Newton series evaluation\n\\[\n1 - \\frac{1}{3} + \\frac{1}{5} - \\frac{1}{7} + \\cdots = \\arctan(1) = \\frac{\\pi}{4}.\n\\]"
    }
  ]
}