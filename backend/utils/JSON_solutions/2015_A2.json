{
  "year": "2015",
  "question_number": "2",
  "domain": "Putnam",
  "statement": "",
  "solution": [
    {
      "hint_level": 0,
      "content": "\\noindent\n\\textbf{First solution:}\nOne possible answer is $181$.\nBy induction, we have $a_n = ((2+\\sqrt{3})^n+(2-\\sqrt{3})^n)/2 = (\\alpha^n+\\beta^n)/2$ for all $n$, where $\\alpha = 2+\\sqrt{3}$ and $\\beta = 2-\\sqrt{3}$. Now note that if $k$ is an odd positive integer and $a_n \\neq 0$, then\n$\\frac{a_{kn}}{a_n} = \\frac{\\alpha^{kn}+\\beta^{kn}}{\\alpha^n+\\beta^n}\n= \\alpha^{(k-1)n}-\\alpha^{(k-2)n}\\beta^n+\\cdots-\\alpha^n\\beta^{(k-2)n}+\\beta^{(k-1)n}$.\nThis expression is both rational (because $a_n$ and $a_{kn}$ are integers) and of the form $a+b\\sqrt{3}$ for some integers $a,b$ by the expressions for $\\alpha,\\beta$; it follows that it must be an integer, and so $a_{kn}$ is divisible by $a_n$. Applying this to $n=5$ and $k=403$, we find that $a_{2015}$ is divisible by $a_5 = 362$ and thus by $181$.\n\n\\noindent\n\\textbf{Second solution:}\nBy rewriting the formula for $a_n$ as $a_{n-2} = 4a_{n-1} - a_n$, we may extend the sequence backwards to define $a_n$ for all integers $n$. Since $a_{-1} = 2$, we may see by induction that $a_{-n} = a_n$ for all $n$. For any integer $m$ and any prime $p$ dividing $a_m$,\n$p$ also divides $a_{-m}$; on the other hand, $p$ cannot divide $a_{-m+1}$, as otherwise $p$ would also divide $a_{-m+2}, \\dots, a_0 = 1$, a contradiction. We can thus find an integer $k$ such that $a_{m+1} \\equiv k a_{-m+1} \\pmod{p}$; by induction on $n$, we see that\n$a_n \\equiv k a_{n-2m} \\pmod{p}$ for all $n$. In particular, if $k$ is odd, then $p$ also divides $a_{km}$; we thus conclude (again) that $a_{2015}$ is divisible by $a_5 = 362$ and thus by $181$.\n\n\\noindent\n\\textbf{Remark:}\nAlthough it was not needed in the solution, we note in passing that if $a_n \\equiv 0 \\pmod{p}$, then $a_{2n+k} \\equiv -a_{k} \\pmod{p}$ for all $k$.\n\n\\noindent\n\\textbf{Remark:} One can find other odd prime factors of $a_{2015}$ in the same manner. For example, $a_{2015}$ is divisible by each of the following quantities. (The prime factorizations were computed using\nthe \\texttt{Magma} computer algebra system.)\n\\begin{align*}\na_{13} &= 2 \\times 6811741 \\\\\na_{31} &= 2 \\times 373 \\times 360250962984637 \\\\\na_{5 \\cdot 13} &= 2 \\times 181 \\times 6811741 \\\\\n&\\quad \\times 3045046274679316654761356161 \\\\\na_{5 \\cdot 31} &= 1215497709121 \\times 28572709494917432101 \\\\\n&\\quad \\times\n13277360555506179816997827126375881581 \\\\\na_{13 \\cdot 31} &= 2 \\times 373 \\times 193441 \\times 6811741 \\times 360250962984637 \\\\\n&\\quad \\times 16866100753000669 \\\\\n&\\quad \\times 79988387992470656916594531961 \\times p_{156}\n\\end{align*}\nwhere $p_{156}$ is a prime of 156 decimal digits. Dividing $a_{2015}$ by the product of the primes appearing in this list yields a number $N$ of 824 decimal digits which is definitely not prime, because $2^N \\not\\equiv 2 \\pmod{N}$, but whose prime factorization we have been unable to establish. Note that $N$ is larger than a 2048-bit RSA modulus, so the difficulty of factoring it is not surprising.\n\nOne thing we can show is that each prime factor of $N$ is %divisible by \ncongruent to $1$ modulo \n$6 \\times 2015 = 12090$, thanks to the following lemma.\n\n\\begin{lemma*}\nLet $n$ be an odd integer. Then any odd prime factor $p$ of $a_n$ which does not divide $a_m$ for any divisor $m$ of $n$ is congruent to $1$ modulo $\\lcm(6,n)$. (By either solution of the original problem, $p$ also does not divide $a_m$ for any positive integer $m<n$.)\n\\end{lemma*}\n\\begin{proof}\nWe first check that $p \\equiv 1 \\pmod{3}$.\nIn $\\FF_q = \\FF_p(\\sqrt{3})$ we have $(\\alpha/\\beta)^n \\equiv -1$. If $p \\equiv 2 \\pmod{3}$,\nthen $q = p^2$ and $\\alpha$ and $\\beta$ are conjugate in $p$; consequently, the equality\n$\\alpha^n = -\\beta^n$ in $\\FF_{q^2}$ means that $\\alpha^n = c \\sqrt{3}$, $\\beta^n = - c \\sqrt{3}$ for some $c \\in \\FF_p$. But then $-3c^2 = \\alpha^n \\beta^n = 1$ in $\\FF_q$ and hence in $\\FF_p$, which contradicts $p \\equiv 2 \\pmod{3}$ by quadratic reciprocity.\n\nBy the previous paragraph, $\\alpha$ and $\\beta$ may be identified with elements of $\\FF_p$, and we have $(\\alpha/\\beta)^n \\equiv -1$, but the same does not hold with $n$ replaced by any smaller value. Since $\\FF_p^\\times$ is a cyclic group of order $p-1$, this forces $p \\equiv 1 \\pmod{n}$ as claimed.\n\\end{proof}"
    }
  ]
}