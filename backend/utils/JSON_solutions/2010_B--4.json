{
  "year": "2010",
  "question_number": "4",
  "domain": "Putnam",
  "statement": "",
  "solution": [
    {
      "hint_level": 0,
      "content": "\\textbf{First solution.}\nThe pairs $(p,q)$ satisfying the given equation are those of the form $p(x) = ax+b, q(x) = cx+d$\nfor $a,b,c,d \\in \\RR$ such that $bc- ad = 1$. We will see later that these indeed give solutions.\n\nSuppose $p$ and $q$ satisfy the given equation; note that neither $p$ nor $q$ can be identically zero.\nBy subtracting the equations\n\\begin{align*}\np(x) q(x+1) - p(x+1) q(x) &= 1 \\\\\np(x-1) q(x) - p(x) q(x-1) &= 1,\n\\end{align*}\nwe obtain the equation\n\\[\np(x) (q(x+1) + q(x-1)) = q(x) (p(x+1) + p(x-1)).\n\\]\nThe original equation implies that $p(x)$ and $q(x)$ have no common nonconstant factor,\nso $p(x)$ divides $p(x+1) + p(x-1)$. Since each of $p(x+1)$ and $p(x-1)$ has the same degree and leading\ncoefficient as $p$, we must have\n\\[\np(x+1) + p(x-1) = 2p(x).\n\\]\nIf we define the polynomials $r(x) = p(x+1) - p(x)$, $s(x) = q(x+1) - q(x)$,\nwe have $r(x+1) = r(x)$, and similarly $s(x+1) = s(x)$.\nPut\n\\[\na = r(0), b = p(0), c = s(0), d = q(0).\n\\]\nThen $r(x) = a, s(x) = c$ for all $x \\in \\ZZ$, and hence identically;\nconsequently, $p(x) = ax + b, q(x) = cx + d$ for all $x \\in \\ZZ$, and hence identically.\nFor $p$ and $q$ of this form,\n\\[\np(x) q(x+1) - p(x+1) q(x) = bc - ad,\n\\]\nso we get a solution if and only if $bc-ad=1$, as claimed.\n\n\\textbf{Second solution.}\n(Communicated by Catalin Zara.)\nAgain, note that $p$ and $q$ must be nonzero.\nWrite\n\\begin{align*}\np(x) &= p_0 + p_1 x + \\cdots + p_m x^m \\\\\nq(x) &= q_0 + q_1 x + \\cdots + q_n x^n\n\\end{align*}\nwith $p_m, q_n \\neq 0$, so that $m = \\deg(p), n = \\deg(q)$. It is enough to derive a contradiction\nassuming that $\\max\\{m,n\\} > 1$, the remaining cases being treated as in the\nfirst solution.\n\nPut $R(x) = p(x) q(x+1) - p(x+1) q(x)$. Since $m+n \\geq 2$ by assumption,\nthe coefficient of $x^{m+n-1}$ in $R(x)$\nmust vanish. By easy algebra, this coefficient equals $(m-n) p_m q_n$, so we must have $m=n > 1$.\n\nFor $k=1,\\dots,2m-2$, the coefficient of $x^k$ in $R(x)$ is\n\\[\n\\sum_{i+j>k, j>i} \\left( \\binom{j}{k-i} - \\binom{i}{k-j} \\right)(p_i q_j - p_j q_i)\n\\]\nand must vanish.\nFor $k=2m-2$, the only summand is for $(i,j) = (m-1,m)$, so $p_{m-1} q_m = p_m q_{m-1}$.\n\nSuppose now that $h \\geq 1$ and that $p_i q_j = p_j q_i$ is known to vanish whenever\n$j>i \\geq h$. (By the previous paragraph, we initially have this for $h=m-1$.)\nTake $k = m+h-2$ and note that the conditions $i+j > h, j \\leq m$ force $i \\geq h-1$.\nUsing the hypothesis, we see that the only possible nonzero contribution to the coefficient of $x^k$ in $R(x)$\nis from $(i,j) = (h-1,m)$. Hence $p_{h-1} q_m = p_m q_{h-1}$; since $p_m, q_m \\neq 0$, this implies\n$p_{h-1} q_j = p_j q_{h-1}$ whenever $j > h-1$.\n\nBy descending induction, we deduce that $p_i q_j = p_j q_i$ whenever $j>i \\geq 0$. Consequently,\n$p(x)$ and $q(x)$ are scalar multiples of each other, forcing $R(x) = 0$, a contradiction.\n\n\\textbf{Third solution.}\n(Communicated by David Feldman.)\nAs in the second solution, we note that there are no solutions where $m = \\deg(p), n = \\deg(q)$\nare distinct and $m+n \\geq 2$. Suppose $p,q$ form a solution with $m = n \\geq 2$.\nThe desired identity asserts that the matrix\n\\[\n\\begin{pmatrix}\np(x) & p(x+1) \\\\\nq(x) & q(x+1)\n\\end{pmatrix}\n\\]\nhas determinant 1. This condition is preserved by replacing $q(x)$ with $q(x) - tp(x)$ for any\nreal number $t$. In particular, we can choose $t$ so that $\\deg(q(x) - tp(x)) < m$;\nwe then obtain a contradiction."
    }
  ]
}