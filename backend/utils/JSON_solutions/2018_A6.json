{
  "year": "2018",
  "question_number": "6",
  "domain": "Putnam",
  "statement": "",
  "solution": [
    {
      "hint_level": 0,
      "content": "\\textbf{First solution.}\nChoose a Cartesian coordinate system with origin at the midpoint of $AB$ and positive $x$-axis containing $A$.\nBy the condition on $AB$, we have $A = (\\sqrt{a}, 0)$, $B = (-\\sqrt{a}, 0)$ for some positive rational number $a$.\nLet $(x_1, y_1)$ and $(x_2, y_2)$ be the respective coordinates of $C$ and $D$; by computing the lengths\nof the segments $AC, BC, AD, BD, CD$, we see that the quantities\n\\begin{gather*}\n(x_1 - \\sqrt{a})^2 + y_1^2, \\quad (x_1 + \\sqrt{a})^2 + y_1^2, \\\\\n(x_2 - \\sqrt{a})^2 + y_2^2, \\quad (x_2 + \\sqrt{a})^2 + y_2^2, \\\\\n(x_1 - x_2)^2 + (y_1 - y_2)^2\n\\end{gather*}\nare all rational numbers. By adding and subtracting the first two quantities, and similarly for the next two, we see that the quantities\n\\[\nx_1^2 + y_1^2,\\quad x_1 \\sqrt{a}, \\quad x_2^2 + y_2^2, \\quad x_2 \\sqrt{a}\n\\]\nare rational numbers. Since $a$ is a rational number, so then are\n\\begin{align*}\nx_1^2 &= \\frac{(x_1 \\sqrt{a})^2}{a} \\\\\nx_2^2 &= \\frac{(x_2 \\sqrt{a})^2}{a} \\\\\nx_1x_2 &= \\frac{(x_1 \\sqrt{a})(x_2 \\sqrt{a})}{a} \\\\\ny_1^2 &= (x_1^2 + y_1^2) - x_1^2 \\\\\ny_2^2 &= (x_2^2 + y_2^2) - x_2^2.\n\\end{align*}\nNow note that the quantity\n\\[\n(x_1 - x_2)^2 + (y_1 - y_2)^2 = x_1^2 -2x_1 x_2 + x_2^2 + y_1^2 - 2y_1y_2 + y_2^2\n\\]\nis known to be rational, as is every summand on the right except $-2y_1y_2$; thus $y_1y_2$ is also rational.\nSince $y_1^2$ is also rational, so then is $y_1/y_2 = (y_1y_2)/(y_1^2)$;\nsince\n\\[\n\\mathrm{area}(\\triangle ABC) = \\sqrt{a} y_1, \\qquad \\mathrm{area}(\\triangle ABD) = \\sqrt{a} y_2,\n\\]\nthis yields the desired result.\n\n\n\\noindent\n\\textbf{Second solution.} (by Manjul Bhargava)\nLet $\\mathbf{b},\\mathbf{c}, \\mathbf{d}$ be the vectors $AB, AC, AD$ viewed as column vectors.\nThe desired ratio is given by\n\\begin{align*}\n\\frac{\\det(\\mathbf{b},\\mathbf{c})}{\\det(\\mathbf{b},\\mathbf{d})} &= \\frac{\\det(\\mathbf{b},\\mathbf{c})^T \\det(\\mathbf{b},\\mathbf{c}) }{ \\det(\\mathbf{b},\\mathbf{c})^T\\det(\\mathbf{b},\\mathbf{d})} \\\\\n&= \\det \\begin{pmatrix} \\mathbf{b} \\cdot \\mathbf{b} & \\mathbf{b} \\cdot \\mathbf{c} \\\\\n\\mathbf{c} \\cdot \\mathbf{b} & \\mathbf{c} \\cdot \\mathbf{c}\n\\end{pmatrix}\n\\det \\begin{pmatrix}\n\\mathbf{b} \\cdot \\mathbf{b} & \\mathbf{b} \\cdot \\mathbf{d} \\\\\n\\mathbf{c} \\cdot \\mathbf{b} & \\mathbf{c} \\cdot \\mathbf{d}\n\\end{pmatrix}^{-1}.\n\\end{align*}\n\nThe square of the length of $AB$ is $\\mathbf{b} \\cdot \\mathbf{b}$, so this quantity is rational.\nThe square of the lengths of $AC$ and $BC$ are $\\mathbf{c} \\cdot \\mathbf{c}$ and\n$(\\mathbf{c} - \\mathbf{b}) \\cdot (\\mathbf{c} - \\mathbf{b}) = \\mathbf{b} \\cdot \\mathbf{b} + \\mathbf{c} \\cdot \\mathbf{c}\n- 2 \\mathbf{b} \\cdot \\mathbf{c}$, so $\\mathbf{b} \\cdot \\mathbf{c} = \\mathbf{c} \\cdot \\mathbf{b}$ is rational.\nSimilarly, using $AD$ and $BD$, we deduce that $\\mathbf{d} \\cdot \\mathbf{d}$ and $\\mathbf{b} \\cdot \\mathbf{d}$ is rational; then using $CD$, we deduce that $\\mathbf{c} \\cdot \\mathbf{d}$ is rational.\n\n\\noindent\n\\textbf{Third solution.}\n(by David Rusin)\nRecall that Heron's formula (for the area of a triangle in terms of its side length) admits the following three-dimensional analogue due to Piero della Francesca: if $V$ denotes the volume of a tetrahedron with vertices $A,B,C,D \\in \\mathbb{R}^3$, then\n\\[\n288 V^2 = \\det\n\\begin{pmatrix}\n0 & AB^2 & AC^2 & AD^2 & 1 \\\\\nAB^2 & 0 & BC^2 & BD^2 & 1 \\\\\nAC^2 & BC^2 & 0 & CD^2 & 1 \\\\\nAD^2 & BD^2 & CD^2 & 0 & 1 \\\\\n1 & 1 & 1 & 1 & 0\n\\end{pmatrix}\n\\]\nIn particular, the determinant vanishes if and only if $A,B,C,D$ are coplanar. From the identity\n\\begin{gather*}\n64(4 \\mathrm{Area}(\\triangle ABC)^2 \\mathrm{Area}(\\triangle ABD)^2 - 9 AB^2 V^2) \\\\\n= (AB^4 - AB^2(AC^2 + AD^2 + BC^2 + BD^2 - 2CD^2) \\\\ + (AC^2-BC^2)(AD^2-BD^2))^2\n\\end{gather*}\nwe see that $\\mathrm{Area}(\\triangle ABC) \\mathrm{Area}(\\triangle ABD)$ is rational;\nsince each of the areas has rational square, we deduce the claim.\n\n\\noindent\n\\textbf{Fourth solution.}\n(by Greg Martin)\nDefine the signed angles $\\alpha = \\angle BAC, \\beta = \\angle BAD, \\gamma = \\angle CAD$, so that $\\alpha + \\gamma = \\beta$. By the Law of Cosines,\n\\begin{align*}\n2 AB \\cdot AC \\cos \\alpha &= AB^2 + AC^2 - BC^2 \\in \\mathbb{Q} \\\\\n2  AB \\cdot AD \\cos \\beta &= AB^2 + AD^2 - BD^2 \\in \\mathbb{Q} \\\\\n2  AC \\cdot AD \\cos \\gamma &= AC^2 + AD^2 - CD^2 \\in \\mathbb{Q}.\n\\end{align*}\nIn particular, $(2 AB \\cdot AC \\cos \\alpha)^2 \\in \\mathbb{Q}$, and so\n$\\cos^2 \\alpha \\in \\mathbb{Q}$ and $\\sin^2 \\alpha = 1 - \\cos^2 \\alpha \\in \\mathbb{Q}$,\nand similarly for the other two angles.\n\nApplying the addition formula to $\\cos \\beta$, we deduce that\n\\[\n2  AB \\cdot AD \\cos \\alpha \\cos \\gamma - \n2 AB \\cdot AD \\sin \\alpha \\sin \\gamma \\in \\mathbb{Q}. \n\\]\nThe first of these terms equals\n\\[\n\\frac{(2 AB \\cdot AC \\cos \\alpha)(2 AB \\cdot AC \\cos \\alpha)}{AC^2} \\in \\mathbb{Q},\n\\]\nso the second term must also be rational. But now\n\\begin{align*}\n\\frac{\\mathrm{Area}(\\triangle ABC)}{\\mathrm{Area}(\\triangle ACD)}\n&= \\frac{AB \\cdot AC \\sin \\alpha}{AC \\cdot AD \\sin \\gamma} \\\\\n&= \\frac{2 AB \\cdot AD \\sin \\alpha \\sin \\gamma}{2 AD^2 \\sin^2 \\gamma} \\in \\mathbb{Q}\n\\end{align*}\nas desired.\n\n\\noindent\n\\textbf{Remark.}\nDerek Smith observes that this result\nis Proposition 1 of: M. Knopf, J. Milzman, D. Smith, D. Zhu and D. Zirlin,\nLattice embeddings of planar point sets, \\textit{Discrete and Computational Geometry} \\textbf{56} (2016), 693--710.\n\n\\noindent\n\\textbf{Remark.}\nIt is worth pointing out that it is indeed possible to choose points $A,B,C,D$ satisfying the conditions of the problem;\n one can even ensure that the lengths of all four segments are themselves rational.\nFor example, it was originally observed by Euler that one can find an infinite set of points on the unit circle whose pairwise distances are all rational numbers.\nOne way to see this is to apply the linear fractional transformation $f(z) = \\frac{z+i}{z-i}$ to the Riemann sphere to carry the real axis (plus $\\infty$) to the unit circle, then compute that\n\\[\n\\left| f(z_1) - f(z_2) \\right| = \\frac{2|z_1-z_2||}{|(z_1-i)(z_2-i)|}.\n\\]\nLet $S$ be the set of rational numbers $z$ for which $2(z^2 + 1)$ is a perfect square; the set $f(S)$ has the desired property provided that it is infinite. That can be checked in various ways; for instance, the equation\n$2(x^2+1) = (2y)^2$ equates to $x^2-2y^2 = -1$ (a modified Brahmagupta-Pell equation), which has infinitely many solutions even over the integers:\n\\[\nx + y \\sqrt{2} = (1 + \\sqrt{2})^{2n+1}.\n\\]"
    }
  ]
}